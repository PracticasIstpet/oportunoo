<script>
    window.onload = function init_components() {
        init_map_anuncio();
    }
</script>

<!--CONTAINER GENERAL-->
<div class="container-fluid pt-5 pb-5">
    <br>
    <!--FILA GENERAL-->
    <div class="row wow fadeIn ml-1 mr-1">

        <!--COLUMNA IZUIERDA-->
        <div class="col-sm-9 ">
            <!--Carousel Wrapper-->
            <div id="carousel" class="carousel slide carousel-fade elegant-color" data-ride="carousel">
                <!--Indicators-->
                <ol class="carousel-indicators">
                    {{#each anuncio.IMAGES}}
                    <li data-target="#carousel" data-slide-to="{{POS}}" {{#ifEquals POS 0}} class="active"
                        {{/ifEquals}}></li>
                    {{/each}}
                </ol>
                <!--/.Indicators-->
                <!--Slides-->
                <div class="carousel-inner" role="listbox">
                    {{#each anuncio.IMAGES}}
                    <div class="carousel-item {{#ifEquals POS 0}} active {{/ifEquals}}">
                        <img class="d-block mx-auto" src="/anuncio_images/{{IMG_NOMBRE}}" style="height: 600px;">
                    </div>
                    {{/each}}
                </div>
                <!--/.Slides-->
                <!--Controls-->
                <a class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#carousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
                <!--/.Controls-->
            </div>
            <!--/.Carousel Wrapper-->
            <hr>
            <div class="row">
                <div class="col-sm-3">
                    <button type="button" class="rnd btn btn-elegant btn-block mb-2" data-toggle="modal"
                        data-target="#modal_llamar"><i class="fas fa-phone pr-2"></i>
                        Quiero que me llamen</button>
                </div>
                <div class="col-sm-3">
                    <button type="button" class="rnd btn btn-elegant btn-block mb-2" data-toggle="modal"
                        data-target="#modal_visita"><i class="fas fa-route pr-2"></i>
                        Planificar visita</button>
                </div>
                <div class="col-sm-3">
                    <button type="button" class="rnd btn btn-elegant btn-block mb-2" data-toggle="modal"
                        data-target="#modal_consulta"><i class="fas fa-question pr-2"></i>Consultar</button>
                </div>
                <div class="col-sm-3">
                    <button type="button" class="rnd btn btn-elegant btn-block mb-2" data-toggle="modal"
                        data-target="#modal_consulta"><i class="far fa-handshake pr-2"></i>LLaves en Mano</button>
                </div>
            </div>
            <hr>
            <div class="row white rounded ">
                <div class="col-sm-9 pt-3 ">
                    <h3 class="font-weight-bolder">{{anuncio.ANUN_TITULO}}</h3>
                </div>
                <div class="col-sm-3 pt-3">
                    <h4 class="font-weight-bolder">${{anuncio.ANUN_PRECIO}} </h4>
                </div>
                <div class="col-sm-12">
                    <br>
                    <h4 class="font-weight-bolder text-white elegant-color rounded p-2"><i
                            class="fas fa-info-circle pr-2"></i>Información</h4>
                    <div class="container">
                        <div class="row border rounded-lg p-2 mb-2">
                            <div class="col-sm-3">
                                <h5>Transacción:</h5>
                                <ul>
                                    <li>{{anuncio.ANUN_TRANSACCION}}</li>
                                </ul>
                            </div>
                            <div class="col-sm-3">
                                <h5>Inmueble:</h5>
                                <ul>
                                    <li>{{anuncio.TIPINM_DESCRIPCION}}</li>
                                </ul>
                            </div>
                            <div class="col-sm-3">
                                <h5>Fecha:</h5>
                                <ul>
                                    <li>{{anuncio.FECHA}}</li>
                                </ul>
                            </div>
                            <div class="col-sm-3">
                                <h5>Alicuota:</h5>
                                <ul>
                                    <li>{{anuncio.ANUN_ALICUITA}}</li>
                                </ul>
                            </div>
                            <div class="col-sm-12">
                                {{#ifEquals anuncio.ANUN_ESTADO_CONSTR "Terreno"}}
                                <h5>Estado de Inmueble:</h5>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width: 10%">
                                        {{../anuncio.ANUN_ESTADO_CONSTR}}</div>
                                </div>
                                {{/ifEquals}}
                                {{#ifEquals anuncio.ANUN_ESTADO_CONSTR "En planos"}}
                                <h5>Estado de Inmueble:</h5>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width: 25%">
                                        {{../anuncio.ANUN_ESTADO_CONSTR}}</div>
                                </div>
                                {{/ifEquals}}
                                {{#ifEquals anuncio.ANUN_ESTADO_CONSTR "En construcción"}}
                                <h5>Estado de Inmueble:</h5>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width: 50%">
                                        {{../anuncio.ANUN_ESTADO_CONSTR}}</div>
                                </div>
                                {{/ifEquals}}
                                {{#ifEquals anuncio.ANUN_ESTADO_CONSTR "Pre-venta"}}
                                <h5>Estado de Inmueble:</h5>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width: 75%">
                                        {{../anuncio.ANUN_ESTADO_CONSTR}}</div>
                                </div>
                                {{/ifEquals}}
                                {{#ifEquals anuncio.ANUN_ESTADO_CONSTR "Venta"}}
                                <h5>Estado de Inmueble:</h5>
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" style="width: 100%">
                                        {{../anuncio.ANUN_ESTADO_CONSTR}}</div>
                                </div>
                                {{/ifEquals}}

                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-sm-12">
                    <br>
                    <h4 class="font-weight-bolder text-white elegant-color rounded p-2"><i
                            class="fas fa-file-alt pr-2"></i>Descipción</h4>
                    <div class="row ml-5 mt-2 mb-3">
                        <span class="large-description">{{anuncio.ANUN_DESCRIPCION}}</span>

                    </div>
                </div>
                <div class="col-sm-12">
                    <h4 class="font-weight-bolder text-white elegant-color rounded p-2 "><i
                            class="fas fa-list pr-2"></i>Características</h4>
                    <div class="container">
                        <div class="row text-center border rounded-lg p-2">
                            <div class="col-sm-2">
                                <i class="grey text-white rounded-circle p-3 mb-1 fas fa-expand-arrows-alt fa-2x"></i>
                                <h6>{{anuncio.ANUN_TAMANO_TOTAL}} (m&sup2)</h6>
                                <b>Área</b>
                            </div>
                            <div class="col-sm-2">
                                <i class="grey text-white rounded-circle p-3 mb-1 fas fa-bed fa-2x"></i>
                                <h6>{{anuncio.ANUN_HABITACIONES}}</h6>
                                <b>Habitaciones</b>
                            </div>
                            <div class="col-sm-2">
                                <i class="grey text-white rounded-circle p-3 mb-1 fas fa-bath fa-2x"></i>
                                <h6>{{anuncio.ANUN_BANOS}}</h6>
                                <b>Baños</b>
                            </div>
                            <div class="col-sm-2">
                                <i class="grey text-white rounded-circle p-3 mb-1 fas fa-toilet fa-2x"></i>
                                <h6>{{anuncio.ANUN_M_BANOS}}</h6>
                                <b>1/2 Baños</b>
                            </div>
                            <div class="col-sm-2">
                                <i class="grey text-white rounded-circle p-3 mb-1 fas fa-car fa-2x"></i>
                                <h6>{{anuncio.ANUN_ESTACIONAMIENTO}}</h6>
                                <b>Estacionamientos</b>
                            </div>
                            <div class="col-sm-2">
                                <i class="grey text-white rounded-circle p-3 mb-1 fas fa-history fa-2x"></i>
                                <h6>{{anuncio.ANUN_ANTIGUEDAD}}</h6>
                                <b>Antiguedad</b>
                            </div>
                        </div>
                        <br>
                        <div class="row border rounded-lg p-2 mb-2">
                            <div class="col-sm-12">
                                <h5>Otros</h5>
                                <ul>
                                    {{#each anuncio.CARACTERISTICAS}}
                                    <li>{{CARACT_DESCRIPCION}}</li>
                                    {{/each}}
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-sm-12 mb-2">
                    <h4 class="font-weight-bolder text-white elegant-color rounded p-2"><i
                            class="fas fa-map-marker pr-2"></i>Ubicación</h4>


                    <div class="container">
                        <div class="row border rounded-lg p-2 mb-2">
                            <div class="col-sm-4">
                                <h5>Provincia:</h5>
                                <ul>
                                    <li>{{anuncio.PROVINCIA}}</li>
                                </ul>
                            </div>
                            <div class="col-sm-4">
                                <h5>Cantón:</h5>
                                <ul>
                                    <li>{{anuncio.CANTON}}</li>
                                </ul>
                            </div>
                            <div class="col-sm-4">
                                <h5>Zona:</h5>
                                <ul>
                                    <li>{{anuncio.ZONA}}</li>
                                </ul>
                            </div>
                            <div class="col-sm-12">
                                <h5>Dirección:</h5>
                                <ul>
                                    <li>{{anuncio.ANUN_DIRECCION}}</li>
                                </ul>
                            </div>
                            <input type="hidden" name="lat" id="lat" value="{{anuncio.ANUN_LATITUD}}">
                            <input type="hidden" name="lon" id="lon" value="{{anuncio.ANUN_LONGITUD}}">

                            <div class="col-sm-12">
                                <h5>Mapa:</h5>
                                <div id="map-anuncio"></div>
                            </div>
                        </div>
                    </div>
                    {{#if anuncio.ANUN_EMBEBED}}
                    <div class="col-sm-12 mb-2">
                        <h4 class="font-weight-bolder text-white elegant-color rounded p-2"><i
                                class="fab fa-youtube pr-2"></i>Video</h4>
                        <center>
                            <iframe width="727" height="409"
                                src="https://www.youtube.com/embed/{{anuncio.ANUN_EMBEBED}}" frameborder="0"
                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                                allowfullscreen></iframe>
                        </center>
                    </div>
                    {{/if}}
                </div>

            </div>
        </div>
        <!--COLUMNA IZUIERDA-->
        <!--COLUMNA DERECHA-->
        <div class="col-sm-3">
            <!--Form with header-->
            <div class="card rounded-lg">
                <!--Header-->
                <div class="header  elegant-color p-1">
                    <div class="row  justify-content-center">
                        <h5 class="h5 text-white">Contactar con el Anunciante</h5>
                    </div>
                </div>
                <!--Header-->
                <form method="POST" action="/addMensajeCliente">
                    <div class="card-body mx-4">
                        <div class="md-form">
                            <i class="fas fa-user prefix grey-text"></i>
                            <input type="text" id="ANMSG_NOMBRE" name="ANMSG_NOMBRE" class="form-control">
                            <label for="ANMSG_NOMBRE">Nombre</label>
                        </div>

                        <div class="md-form">
                            <i class="fas fa-envelope prefix grey-text"></i>
                            <input type="email" id="ANMSG_CORREO" name="ANMSG_CORREO" class="form-control">
                            <label for="ANMSG_CORREO">Correo</label>
                        </div>

                        <div class="md-form">
                            <i class="fas fa-phone prefix grey-text"></i>
                            <input type="tel" id="ANMSG_TELEFONO" name="ANMSG_TELEFONO" class="form-control">
                            <label for="ANMSG_TELEFONO">Teléfono</label>
                        </div>

                        <div class="md-form">
                            <i class="fas fa-pencil-alt prefix grey-text"></i>
                            <textarea id="ANMSG_MENSAJE" name="ANMSG_MENSAJE" class="md-textarea form-control"
                                rows="5"></textarea>
                            <label for="ANMSG_MENSAJE">Mensaje</label>
                        </div>
                        <input type="hidden" class="form-control" name="ANUN_ID" value="{{anuncio.ANUN_ID}}">
                        <input type="hidden" class="form-control" name="ANMSG_ASUNTO" value="CONTACTARSE">
                        <!--Grid row-->
                        <div class="row d-flex align-items-center mb-3 mt-4">

                            <!--Grid column-->
                            <div class="col-md-12">
                                <div class="text-center">
                                    <button type="button submit" class="btn btn-elegant rnd">Contactar</button>
                                </div>
                            </div>
                            <!--Grid column-->
                        </div>
                        <!--Grid row-->
                    </div>
                </form>
            </div>
            <!--/Form with header-->
        </div>
        <!--COLUMNA DERECHA-->
    </div>
    <!--FILA GENERAL-->
</div>
<!--CONTAINER GENERAL-->

<!-- Modal -->
<div class="modal fade" id="modal_llamar" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <!-- Add .modal-dialog-centered to .modal-dialog to vertically center the modal -->
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header elegant-color  justify-content-center">
                <h5 class="modal-title text-white"><i class="fas fa-phone pr-2"></i>QUIERO QUE ME LLAMEN</h5>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form method="POST" action="/addMensajeCliente">
                <div class="modal-body">
                    <div class="md-form">
                        <i class="fas fa-user prefix grey-text"></i>
                        <input type="text" id="ANMSG_NOMBRE" name="ANMSG_NOMBRE" class="form-control">
                        <label for="ANMSG_NOMBRE">Nombre</label>
                    </div>

                    <div class="md-form">
                        <i class="fas fa-phone prefix grey-text"></i>
                        <input type="tel" id="ANMSG_TELEFONO" name="ANMSG_TELEFONO" class="form-control">
                        <label for="ANMSG_TELEFONO">Teléfono</label>
                    </div>
                </div>
                <input type="hidden" class="form-control" name="ANUN_ID" value="{{anuncio.ANUN_ID}}">
                <input type="hidden" class="form-control" name="ANMSG_ASUNTO" value="LLAMDA">
                <div class="modal-footer justify-content-center">
                    <button type="button submit" class="btn btn-elegant rnd">Enviar</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="modal_visita" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <!-- Add .modal-dialog-centered to .modal-dialog to vertically center the modal -->
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header elegant-color  justify-content-center">
                <h5 class="modal-title text-white"><i class="fas fa-route pr-2"></i>PLANIFICAR VISITA</h5>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form method="POST" action="/addMensajeCliente">

                <div class="modal-body">
                    <div class="md-form">
                        <i class="fas fa-user prefix grey-text"></i>
                        <input type="text" id="ANMSG_NOMBRE" name="ANMSG_NOMBRE" class="form-control">
                        <label for="ANMSG_NOMBRE">Nombre</label>
                    </div>

                    <div class="md-form">
                        <i class="fas fa-envelope prefix grey-text"></i>
                        <input type="email" id="ANMSG_CORREO" name="ANMSG_CORREO" class="form-control">
                        <label for="ANMSG_CORREO">Correo</label>
                    </div>

                    <div class="md-form">
                        <i class="fas fa-phone prefix grey-text"></i>
                        <input type="tel" id="ANMSG_TELEFONO" name="ANMSG_TELEFONO" class="form-control">
                        <label for="ANMSG_TELEFONO">Teléfono</label>
                    </div>
                    <div class="md-form">
                        <i class="fas fa-calendar-day prefix grey-text"></i>
                        <input type="date" id="ANMSG_FECHA_VISITA" name="ANMSG_FECHA_VISITA" class="form-control">
                        <label for="ANMSG_FECHA_VISITA">En qué fecha desea visitar?</label>
                    </div>
                </div>
                <input type="hidden" class="form-control" name="ANUN_ID" value="{{anuncio.ANUN_ID}}">
                <input type="hidden" class="form-control" name="ANMSG_ASUNTO" value="VISITA">
                <div class="modal-footer justify-content-center">
                    <button type="button submit" class="btn btn-elegant rnd">Enviar</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="modal_consulta" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
    aria-hidden="true">
    <!-- Add .modal-dialog-centered to .modal-dialog to vertically center the modal -->
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header elegant-color  justify-content-center">
                <h5 class="modal-title text-white"><i class="fas fa-question pr-2"></i>CONSULTAR</h5>
                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form method="POST" action="/addMensajeCliente">

                <div class="modal-body">
                    <div class="md-form">
                        <i class="fas fa-user prefix grey-text"></i>
                        <input type="text" id="ANMSG_NOMBRE" name="ANMSG_NOMBRE" class="form-control">
                        <label for="ANMSG_NOMBRE">Nombre</label>
                    </div>

                    <div class="md-form">
                        <i class="fas fa-envelope prefix grey-text"></i>
                        <input type="email" id="ANMSG_CORREO" name="ANMSG_CORREO" class="form-control">
                        <label for="ANMSG_CORREO">Correo</label>
                    </div>

                    <div class="md-form">
                        <i class="fas fa-phone prefix grey-text"></i>
                        <input type="tel" id="ANMSG_TELEFONO" name="ANMSG_TELEFONO" class="form-control">
                        <label for="ANMSG_TELEFONO">Teléfono</label>
                    </div>

                    <div class="md-form">
                        <i class="fas fa-pencil-alt prefix grey-text"></i>
                        <textarea id="ANMSG_MENSAJE" name="ANMSG_MENSAJE" class="md-textarea form-control"
                            rows="5"></textarea>
                        <label for="ANMSG_MENSAJE">Mensaje</label>
                    </div>
                </div>
                <input type="hidden" class="form-control" name="ANUN_ID" value="{{anuncio.ANUN_ID}}">
                <input type="hidden" class="form-control" name="ANMSG_ASUNTO" value="CONSULTA">
                <div class="modal-footer justify-content-center">
                    <button type="button submit" class="btn btn-elegant rnd">Enviar</button>
                </div>
            </form>
        </div>
    </div>
</div>